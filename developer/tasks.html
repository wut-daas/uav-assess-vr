<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Operator tasks (levels) | UAV Assess VR</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Visualisation and evaluation of UAV operator&#39;s performance based on received MAVLink stream">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/uav-assess-vr/assets/css/0.styles.1a197325.css" as="style"><link rel="preload" href="/uav-assess-vr/assets/js/app.d990a396.js" as="script"><link rel="preload" href="/uav-assess-vr/assets/js/2.f9356c91.js" as="script"><link rel="preload" href="/uav-assess-vr/assets/js/7.f2d0a320.js" as="script"><link rel="prefetch" href="/uav-assess-vr/assets/js/10.de5d2a16.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/11.84c05331.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/12.0ffc1125.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/13.374a8cb4.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/14.0f827497.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/15.16f32d93.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/16.95896130.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/17.0f23ed88.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/18.611d644b.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/19.457f2dca.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/3.dcc01472.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/4.22b167ee.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/5.1827ef66.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/6.f8cb9a94.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/8.f794b5bb.js"><link rel="prefetch" href="/uav-assess-vr/assets/js/9.c668742b.js">
    <link rel="stylesheet" href="/uav-assess-vr/assets/css/0.styles.1a197325.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/uav-assess-vr/" class="home-link router-link-active"><!----> <span class="site-name">UAV Assess VR</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/uav-assess-vr/guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/uav-assess-vr/developer/" class="nav-link router-link-active">
  Developer Guide
</a></div><div class="nav-item"><a href="https://oblot.pw.edu.pl/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OBLot Research Centre
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/wut-daas/uav-assess-vr" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/uav-assess-vr/guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/uav-assess-vr/developer/" class="nav-link router-link-active">
  Developer Guide
</a></div><div class="nav-item"><a href="https://oblot.pw.edu.pl/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OBLot Research Centre
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/wut-daas/uav-assess-vr" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Developer Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/uav-assess-vr/developer/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/uav-assess-vr/developer/tasks.html" aria-current="page" class="active sidebar-link">Operator tasks (levels)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/uav-assess-vr/developer/tasks.html#level-elements" class="sidebar-link">Level elements</a></li><li class="sidebar-sub-header"><a href="/uav-assess-vr/developer/tasks.html#operator" class="sidebar-link">Operator</a></li><li class="sidebar-sub-header"><a href="/uav-assess-vr/developer/tasks.html#drone" class="sidebar-link">Drone</a></li></ul></li><li><a href="/uav-assess-vr/developer/assessment.html" class="sidebar-link">Assessment functions</a></li><li><a href="/uav-assess-vr/developer/hardware.html" class="sidebar-link">Hardware</a></li><li><a href="/uav-assess-vr/developer/visuals.html" class="sidebar-link">Visuals</a></li><li><a href="/uav-assess-vr/developer/documentation.html" class="sidebar-link">Documentation</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="operator-tasks-levels"><a href="#operator-tasks-levels" class="header-anchor">#</a> Operator tasks (levels)</h1> <p>Every track or task to be performed by the UAV operator should be made into a separate UE4 level. Place the levels in <code>Content/Maps</code>. The name of the file as it appears in the Content Browser will also be sent to the assessment function and saved in logs, so make it descriptive.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Instead of creating a new level from scratch it is often easier to select an existing one in the Content Browser, and select <code>Duplicate (Ctrl+W)</code> from the context menu. Then name and modify your copy as needed.</p></div> <p><img src="/uav-assess-vr/assets/img/tasks-duplicate.d3b14a64.png" alt="Duplicating a level"></p> <h2 id="level-elements"><a href="#level-elements" class="header-anchor">#</a> Level elements</h2> <p>Actor classes that are a part of the level are placed in <code>Content/Blueprints/Level</code>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>UE4 uses &quot;Unreal Units&quot; which correspond directly to centimeters (cm). They are converted into meters for logs and assessment.</p></div> <h3 id="reference-track"><a href="#reference-track" class="header-anchor">#</a> Reference track</h3> <p>This is the perfect trajectory for the UAV to follow, and be evaluated against. The main part of the track is the <code>SplineComponent</code> that controls the trajectory. The spline itself is invisible during gameplay, but arrows can be placed along its length according to <code>Place Meshes</code> checkbox.</p> <p>To modify the spline, select any of its control points (drawn as white squares), and move it with the usual UE4 controls. When a control point is selected, its tangent line should be visible, which can also be manipulated by its ends. Control points can also be rotated, the rotation along spline will affect placed arrows. <strong>To add a new point its easiest to move an existing one while holding the Alt key</strong>.</p> <p>To save the track details, select component <code>TrackSplineExporter</code> in details panel, and use the GUI in the <code>Track Export</code> section. The files will be saved to <code>UAVAssessVR/Saved/LevelDefinitions</code></p> <h3 id="gates"><a href="#gates" class="header-anchor">#</a> Gates</h3> <p>In order to complete the task, the UAV needs to fly through any green start gate, all the blue checkpoint gates (but there can be none of these), and a red finish gate.</p> <p>To help with aligning the gates to the track, there is a <code>Snap to Track</code> button in the details panel, which will move and align them with the closest point of the reference track. The start and finish gates can also be created aligned to the reference track using buttons <code>Add Start</code> and <code>Add Finish</code> in details panel of <code>ReferenceTrack</code>.</p> <h3 id="geofence"><a href="#geofence" class="header-anchor">#</a> Geofence</h3> <p>To contain the UAV in a designated space, a <code>GeofenceCube</code> actor can be placed. It displays a red grid whenever the UAV is closer than <code>Proximity Radius</code> (in cm) from one of its planes. In case of collision, a <code>DroneGeofenceBreach</code> event will be called in the game mode blueprint.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>When the viewport camera is outside the <code>GeofenceCube</code>, clicking on objects inside the geofence will select the transparent geofence instead. You can prevent this by hiding this object in the editor, using the eye icon in the World Outliner. It will be visible during gameplay regardless.</p></div> <p><img src="/uav-assess-vr/assets/img/tasks-hide.03481595.png" alt="Hiding the geofence"></p> <h2 id="operator"><a href="#operator" class="header-anchor">#</a> Operator</h2> <p>The operator location and initial orientation is defined using the <code>PlayerStart</code> object. The correct character (<code>OperatorCharacter</code>) will be spawned when gameplay starts, based on the setting in <code>Class Defaults</code> of <code>FlightGameMode</code> class.</p> <h2 id="drone"><a href="#drone" class="header-anchor">#</a> Drone</h2> <p>The UAV movement is controlled by the <code>SwitchableDrone</code> actor. By default, it spawns the crude cuboid-cone 3D model. To select a different 3D model, first drag the desired model from <code>Content/Blueprints/Drones</code> anywhere into the level. Then, in details panel of <code>SwitchableDrone</code> set <code>Drone Actor</code> field to the model you just placed in the level, e.g. using the dropper icon.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/5/2021, 9:19:08 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/uav-assess-vr/developer/" class="prev router-link-active">
        Introduction
      </a></span> <span class="next"><a href="/uav-assess-vr/developer/assessment.html">
        Assessment functions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/uav-assess-vr/assets/js/app.d990a396.js" defer></script><script src="/uav-assess-vr/assets/js/2.f9356c91.js" defer></script><script src="/uav-assess-vr/assets/js/7.f2d0a320.js" defer></script>
  </body>
</html>
